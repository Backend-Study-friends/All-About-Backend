젠킨스, 앤서블을 사용하여서 CI/CD가 어떤 식으로 흘러가는지에 대해 블로그가 서술하고있습니다. 어디에 배포하는지, 코드를 어떻게 쳤는지 보기보단, 어떤 느낌으로 CI/CD가 진행되는지 이 글을 보신다면 더 유익할 것 같습니다 😁  그리고 가장 위의 개념정리는 이번 흐름을 이해하는데 필요한 정말 얕은 수준이니 더 궁금하시다면 젠킨스, 앤서블 이 두 글 혹은 공식문서 참조 바랍니다 🙂

## Jenkins

---

Jenkins는

"an open source automation server which enables developers around the world to reliably build, test, and deploy their software." 라고 자신들을 설명하고 있습니다.

해석하자면, 전 세계 개발자가 신뢰할 수 있게 그들의 소프트웨어를 빌드하고, 테스트하고 배포하는 것을 가능하게 해주는 오픈소스 자동화 서버라고 합니다.



즉 정말 간단하게 말해서, 지속적으로 통합해주고, 배포해주는 CI/CD 도와주는 툴로 생각하시면 될 것 같습니다.



아이템이란?

젠킨스에서 실행되는 작업의 최소 단위입니다.



## Ansible

---

Ansible은

IaC(Infrastructure as Code) 도구입니다. 수동이 아닌 코드로 인프라를 관리하고 프로비저닝 하는 것을 의미합니다.



즉 Ansible은 내가 수동으로 하던 일을 코드로 자동화 해주는 툴 정도로 이해하시면 될 것 같습니다.



playbook이란?

플레이북이란 자동화에 대해 코드로 적어둔 파일입니다. 이 playbook이 실행된다면, 작성한 자동화가 이루어집니다.



설계 구상
간단하게 설계해보았습니다.


젠킨스나 앤서블을 도커위에서 돌리지 않은 이유는 단지 이미 우분투에 도커와 앤서블이 설치돼있었기 때문입니다.



### 진행할 작업의 순서는 이러합니다.

---

1. 젠킨스에서 깃허브에서 풀 리퀘스트가 머지되면, CI 작업을 진행하는 아이템을 생성합니다.

2. 우분투 서버에 playbook 파일을 작성합니다.

3. CI 작업이 완료된다면 배포하겠다고 작성이 된 Ansible-playbook을 실행하는 아이템을 생성합니다.

4. CI작업을 진행하는 아이템 빌드후에 Ansible-playbook을 실행하는 아이템이 빌드되게 합니다.



해봅시다!
위에서 말한 깃허브에서 풀 리퀘스트가 머지되면, CI 작업을 진행하는 아이템을 생성해보겠습니다.

